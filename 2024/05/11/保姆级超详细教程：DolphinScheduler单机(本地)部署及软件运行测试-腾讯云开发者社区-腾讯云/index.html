<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>荒岛 | 荒岛</title><meta name="author" content="拾光"><meta name="copyright" content="拾光"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="保姆级超详细教程：DolphinScheduler单机(本地)部署及软件运行测试大数据真好玩关注发布于 2021-12-02 10:11:444.2K0发布于 2021-12-02 10:11:44举报文章被收录于专栏：暴走大数据暴走大数据 DolphinScheduler架构图 目录一、补充二、部署流程1.下载二进制tar.gz包2.创建部署用户并赋予目录操作权限3.ssh免密配置4.数据库初始">
<meta property="og:type" content="article">
<meta property="og:title" content="荒岛">
<meta property="og:url" content="https://ximiedeyanhuo.github.io/fzd.github.io/2024/05/11/%E4%BF%9D%E5%A7%86%E7%BA%A7%E8%B6%85%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B%EF%BC%9ADolphinScheduler%E5%8D%95%E6%9C%BA(%E6%9C%AC%E5%9C%B0)%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%BD%AF%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA-%E8%85%BE%E8%AE%AF%E4%BA%91/index.html">
<meta property="og:site_name" content="荒岛">
<meta property="og:description" content="保姆级超详细教程：DolphinScheduler单机(本地)部署及软件运行测试大数据真好玩关注发布于 2021-12-02 10:11:444.2K0发布于 2021-12-02 10:11:44举报文章被收录于专栏：暴走大数据暴走大数据 DolphinScheduler架构图 目录一、补充二、部署流程1.下载二进制tar.gz包2.创建部署用户并赋予目录操作权限3.ssh免密配置4.数据库初始">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:published_time" content="2024-05-11T01:15:07.482Z">
<meta property="article:modified_time" content="2024-05-11T01:15:07.482Z">
<meta property="article:author" content="拾光">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/fzd.github.io/img/favicon.png"><link rel="canonical" href="https://ximiedeyanhuo.github.io/fzd.github.io/2024/05/11/%E4%BF%9D%E5%A7%86%E7%BA%A7%E8%B6%85%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B%EF%BC%9ADolphinScheduler%E5%8D%95%E6%9C%BA(%E6%9C%AC%E5%9C%B0)%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%BD%AF%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA-%E8%85%BE%E8%AE%AF%E4%BA%91/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/fzd.github.io/css/index.css?v=4.14.0-b3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.35/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>(()=>{
      const saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
      
      window.btf = {
        saveToLocal: saveToLocal,
        getScript: (url, attr = {}) => new Promise((resolve, reject) => {
          const script = document.createElement('script')
          script.src = url
          script.async = true
          script.onerror = reject
          script.onload = script.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            script.onload = script.onreadystatechange = null
            resolve()
          }

          Object.keys(attr).forEach(key => {
            script.setAttribute(key, attr[key])
          })

          document.head.appendChild(script)
        }),

        getCSS: (url, id = false) => new Promise((resolve, reject) => {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = url
          if (id) link.id = id
          link.onerror = reject
          link.onload = link.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            link.onload = link.onreadystatechange = null
            resolve()
          }
          document.head.appendChild(link)
        }),

        addGlobalFn: (key, fn, name = false, parent = window) => {
          const pjaxEnable = false
          if (!pjaxEnable && key.startsWith('pjax')) return

          const globalFn = parent.globalFn || {}
          const keyObj = globalFn[key] || {}
    
          if (name && keyObj[name]) return
    
          name = name || Object.keys(keyObj).length
          keyObj[name] = fn
          globalFn[key] = keyObj
          parent.globalFn = globalFn
        }
      }
    
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode
      
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })()</script><script>const GLOBAL_CONFIG = {
  root: '/fzd.github.io/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '荒岛',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-11 09:15:07'
}</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/fzd.github.io/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/fzd.github.io/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/fzd.github.io/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/fzd.github.io/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/fzd.github.io/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/fzd.github.io/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/fzd.github.io/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/fzd.github.io/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/fzd.github.io/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/fzd.github.io/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/fzd.github.io/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/fzd.github.io/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/fzd.github.io/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/fzd.github.io/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/fzd.github.io/" title="荒岛"><span class="site-name">荒岛</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/fzd.github.io/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/fzd.github.io/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/fzd.github.io/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/fzd.github.io/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/fzd.github.io/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/fzd.github.io/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/fzd.github.io/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/fzd.github.io/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/fzd.github.io/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/fzd.github.io/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/fzd.github.io/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-05-11T01:15:07.482Z" title="发表于 2024-05-11 09:15:07">2024-05-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-11T01:15:07.482Z" title="更新于 2024-05-11 09:15:07">2024-05-11</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="保姆级超详细教程：DolphinScheduler单机-本地-部署及软件运行测试"><a href="#保姆级超详细教程：DolphinScheduler单机-本地-部署及软件运行测试" class="headerlink" title="保姆级超详细教程：DolphinScheduler单机(本地)部署及软件运行测试"></a>保姆级超详细教程：DolphinScheduler单机(本地)部署及软件运行测试</h1><p><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/29792214/1715239258850-615f3af1-7103-47dd-92c6-74067e8dca43.jpeg#clientId=u846a0b5a-ddc0-4&from=paste&id=u57393bdb&originHeight=200&originWidth=200&originalType=url&ratio=1&rotation=0&showTitle=false&size=5287&status=done&style=none&taskId=u6c0dc3ae-8c6f-4503-831f-1621e9b1084&title=" alt="image.jpg"><br>大数据真好玩<br>关注<br>发布于 2021-12-02 10:11:44<br>4.2K0<br>发布于 2021-12-02 10:11:44<br>举报<br>文章被收录于专栏：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/column/79529">暴走大数据</a><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/column/79529">暴走大数据</a></p>
<h3 id="DolphinScheduler架构图"><a href="#DolphinScheduler架构图" class="headerlink" title="DolphinScheduler架构图"></a><strong>DolphinScheduler架构图</strong></h3><p><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/29792214/1715239258918-b1f2635e-81a4-4da8-ab9e-9f84b31f630c.jpeg#clientId=u846a0b5a-ddc0-4&from=paste&id=u1ab9d106&originalType=url&ratio=1&rotation=0&showTitle=false&size=51276&status=done&style=none&taskId=u56d5d3b1-315b-4fd3-bda8-da8cc77a63d&title=" alt="image.jpg"></p>
<h5 id="目录"><a href="#目录" class="headerlink" title="目录"></a><strong>目录</strong></h5><p>一、补充<br>二、部署流程<br>1.下载二进制tar.gz包<br>2.创建部署用户并赋予目录操作权限<br>3.ssh免密配置<br>4.<a target="_blank" rel="noopener" href="https://cloud.tencent.com/solution/database?from_column=20065&from=20065">数据库</a>初始化<br>5.修改运行参数<br>6.一键部署<br>7.登录系统<br>如果你还不够熟悉DolphinScheduler，可以参考：</p>
<ul>
<li><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247494139&idx=2&sn=1af1d42dce6fdcd3bbe3382fca653b23&chksm=e9bff8d7dec871c1ddebcc37a72bd6ca41ea908332fae08bc8f57437894d31dc77e9358de532&token=422302214&lang=zh_CN&scene=21%23wechat_redirect&source=article&objectId=1909521">《调度系统Apache DolphinScheduler介绍和设计原理》</a></li>
<li><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247486115&idx=2&sn=0823d445c5f2e6079de68277a3f6d60a&chksm=e9bc1b8fdecb929933ac403f92414ad1bed8d00145b09b5441b44bf3ea0f788e288b9e2013e8&token=422302214&lang=zh_CN&scene=21%23wechat_redirect&source=article&objectId=1909521">《DolphinScheduler分布式作业管理平台》</a></li>
</ul>
<h3 id="一、补充"><a href="#一、补充" class="headerlink" title="一、补充"></a><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247494907&idx=1&sn=4923ca218bdbb60f12819592e7fea6f7&chksm=e9bffdd7dec874c1b354060085818929279099287563dd1a8d3b4758e8a24793ef0a5a3444b3&scene=21%23wechat_redirect&source=article&objectId=1909521">一、补充</a></h3><p>安装psmisc：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install psmisc</span><br></pre></td></tr></table></figure>
<h3 id="二、部署流程"><a href="#二、部署流程" class="headerlink" title="二、部署流程"></a><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247494890&idx=2&sn=788a90a7cfaa4f2698cad0e5445e3608&chksm=e9bffdc6dec874d04d4809c8dae3e67dba1e107a60ea470ca85f7edc3619ff16a1f44b5423ad&scene=21%23wechat_redirect&source=article&objectId=1909521">二、部署流程</a></h3><h4 id="1-下载二进制tar-gz包"><a href="#1-下载二进制tar-gz包" class="headerlink" title="1.下载二进制tar.gz包"></a><strong>1.下载二进制tar.gz包</strong></h4><p>下载最新版本的后端安装包至<a target="_blank" rel="noopener" href="https://cloud.tencent.com/act/pro/promotion-cvm?from_column=20065&from=20065">服务器</a>部署目录，比如创建 &#x2F;opt&#x2F;dolphinscheduler 做为安装部署目录，下载地址：<a target="_blank" rel="noopener" href="https://dlcdn.apache.org/dolphinscheduler/1.3.8/apache-dolphinscheduler-1.3.8-src.tar.gz%EF%BC%8C%E4%B8%8B%E8%BD%BD%E5%90%8E%E4%B8%8A%E4%BC%A0">https://dlcdn.apache.org/dolphinscheduler/1.3.8/apache-dolphinscheduler-1.3.8-src.tar.gz，下载后上传</a> tar 包到该目录中<br>注：此处应当下载bin文件<br><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/29792214/1715239258789-462e2eed-b51e-4aa2-9950-61c991e8ac2c.jpeg#clientId=u846a0b5a-ddc0-4&from=paste&id=u472233b5&originalType=url&ratio=1&rotation=0&showTitle=false&size=55934&status=done&style=none&taskId=u0c85523b-36e4-478a-9fa6-41fad3e77aa&title=" alt="image.jpg"><br>解压<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 创建部署目录，部署目录请不要创建在 /root、/home 等高权限目录 </span><br><span class="line">mkdir -p /opt/dolphinscheduler</span><br><span class="line">cd /opt/dolphinscheduler</span><br><span class="line"></span><br><span class="line"># 解压缩</span><br><span class="line">tar -zxvf apache-dolphinscheduler-<span class="number">1.3</span><span class="number">.8</span>-bin.<span class="property">tar</span>.<span class="property">gz</span></span><br><span class="line"> </span><br><span class="line">#重命名</span><br><span class="line">mv apache-dolphinscheduler-<span class="number">1.3</span><span class="number">.8</span>-bin  dolphinscheduler-bin</span><br></pre></td></tr></table></figure>
<p>笔者在&#x2F;usr&#x2F;local位置上创建dolphinscheduler文件夹，上传并解压了安装包。随后将压缩包重命名为dolphinscheduler-bin。<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir dolphinscheduler</span><br><span class="line">cd dolphinscheduler</span><br><span class="line"></span><br><span class="line"># 解压缩</span><br><span class="line">tar -zxvf apache-dolphinscheduler-<span class="number">1.3</span><span class="number">.8</span>-bin.<span class="property">tar</span>.<span class="property">gz</span> -C</span><br><span class="line"> </span><br><span class="line">#重命名</span><br><span class="line">mv apache-dolphinscheduler-<span class="number">1.3</span><span class="number">.8</span>-bin  dolphinscheduler-bin</span><br></pre></td></tr></table></figure>
<p>附：<br>查看虚拟机ip地址<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure>
<p>inet后跟的值即为ip地址<br>随后用filezilla连接虚拟机，传输文件<br><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/29792214/1715239258936-e4b93fc3-1050-43aa-8532-fdac87e87caf.jpeg#clientId=u846a0b5a-ddc0-4&from=paste&id=u0d9b9890&originHeight=610&originWidth=874&originalType=url&ratio=1&rotation=0&showTitle=false&size=51947&status=done&style=none&taskId=u246d7497-1c8e-4967-9988-0e163931f58&title=" alt="image.jpg"><br>主机号即为刚刚查询的结果，协议选择SFTP而不是默认的FTP，用户名为虚拟机系统的用户名而不是linux终端terminal的用户。<br>连接成功后即可看到linux文件目录，用拖拽的方式即可传输文件。<br>笔者此处遇到权限问题：<br>filezilla报错：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">命令:    put <span class="string">&quot;C:\Users\86136\Desktop\apache-dolphinscheduler-1.3.8-src.tar.gz&quot;</span> <span class="string">&quot;apache-dolphinscheduler-1.3.8-src.tar.gz&quot;</span></span><br><span class="line">错误: <span class="regexp">/usr/</span>local/dolphinscheduler/apache-dolphinscheduler-<span class="number">1.3</span><span class="number">.8</span>-src.<span class="property">tar</span>.<span class="property">gz</span>: open <span class="keyword">for</span> <span class="attr">write</span>: permission denied</span><br><span class="line">错误:    文件传输失败</span><br></pre></td></tr></table></figure>
<p>在虚拟机上授权<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod <span class="number">777</span> /usr/local/dolphinscheduler</span><br></pre></td></tr></table></figure>
<p>重新传输，问题解决。<br>实际上，在安装filezilla后直接拖拽文件进虚拟机界面也能实现文件传输，但就笔者而言这一操作偶尔能够成功但常常导致系统死机。</p>
<h4 id="2-创建部署用户并赋予目录操作权限"><a href="#2-创建部署用户并赋予目录操作权限" class="headerlink" title="2.创建部署用户并赋予目录操作权限"></a><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247494890&idx=2&sn=788a90a7cfaa4f2698cad0e5445e3608&chksm=e9bffdc6dec874d04d4809c8dae3e67dba1e107a60ea470ca85f7edc3619ff16a1f44b5423ad&scene=21%23wechat_redirect&source=article&objectId=1909521">2.创建部署用户并赋予目录操作权限</a></h4><ul>
<li>创建部署用户，并且一定要配置 sudo 免密。以创建 dolphinscheduler 用户为例</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 创建用户需使用 root 登录</span><br><span class="line">useradd dolphinscheduler</span><br><span class="line"></span><br><span class="line"># 添加密码</span><br><span class="line">echo <span class="string">&quot;dolphinscheduler&quot;</span> | passwd --stdin dolphinscheduler</span><br><span class="line"></span><br><span class="line"># 配置 sudo 免密</span><br><span class="line">sed -i <span class="string">&#x27;$adolphinscheduler  ALL=(ALL)  NOPASSWD: NOPASSWD: ALL&#x27;</span> /etc/sudoers</span><br><span class="line">sed -i <span class="string">&#x27;s/Defaults    requirett/#Defaults    requirett/g&#x27;</span> /etc/sudoers</span><br><span class="line"></span><br><span class="line"># 修改目录权限，使得部署用户对 dolphinscheduler-bin 目录有操作权限</span><br><span class="line">chown -R <span class="attr">dolphinscheduler</span>:dolphinscheduler dolphinscheduler-bin</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<ul>
<li>因为任务执行服务是以 sudo -u {linux-user} 切换不同 linux 用户的方式来实现多租户运行作业，所以部署用户需要有 sudo 权限，而且是免密的。初学习者不理解的话，完全可以暂时忽略这一点</li>
<li>如果发现 &#x2F;etc&#x2F;sudoers 文件中有 “Defaults requirett” 这行，也请注释掉</li>
<li>如果用到资源上传的话，还需要给该部署用户分配操作本地文件系统或者 HDFS 或者 MinIO的权限</li>
</ul>
<p>坑：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&quot;dolphinscheduler&quot;</span> | passwd --stdin dolphinscheduler</span><br></pre></td></tr></table></figure>
<p>这步会报错。linux的passwd命令没有–stdin的语法<br>应该用<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&quot;dolphinscheduler:123456&quot;</span> | chpasswd</span><br></pre></td></tr></table></figure>
<p>修改用户dolphinscheduler密码为123456<br>另外这五条指令在第一次成功运行时都没有运行成功提示。</p>
<h4 id="3-ssh免密配置"><a href="#3-ssh免密配置" class="headerlink" title="3.ssh免密配置"></a><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247494755&idx=3&sn=2e407bda03e3a392387a1f276f554927&chksm=e9bffd4fdec8745963dc186d565a7077e1dc7e4d05e3099f105aaec5111ef013a6dfe1779376&scene=21%23wechat_redirect&source=article&objectId=1909521">3.ssh免密配置</a></h4><ul>
<li>切换到部署用户并配置 ssh 本机免密登录</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su dolphinscheduler</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -P <span class="string">&#x27;&#x27;</span> -f ~<span class="regexp">/.ssh/i</span>d_rsa</span><br><span class="line">cat ~<span class="regexp">/.ssh/i</span>d_rsa.<span class="property">pub</span> &gt;&gt; ~<span class="regexp">/.ssh/</span>authorized_keys</span><br><span class="line">chmod <span class="number">600</span> ~<span class="regexp">/.ssh/</span>authorized_keys</span><br></pre></td></tr></table></figure>
<p>注意：正常设置后，dolphinscheduler 用户在执行命令 ssh localhost 是不需要再输入密码的<br>坑：这里运行会报错Could not create directory ‘&#x2F;home&#x2F;dolphinscheduler&#x2F;.ssh<br>需要先以root身份在&#x2F;home下创建dolphinscheduler目录再在dolphinscheduler里创建.ssh目录，<br>然后切换回dolphinscheduler用户执行。除此之外可能还需要对这些目录进行授权。</p>
<h4 id="4-数据库初始化"><a href="#4-数据库初始化" class="headerlink" title="4.数据库初始化"></a><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247494354&idx=1&sn=50123991ffe4e806bd18dc393e28efb5&chksm=e9bffbfedec872e87451bbacab6e7586452d42b3ae7f0b2789f12437e9dcf37c877867711e11&scene=21%23wechat_redirect&source=article&objectId=1909521">4.数据库初始化</a></h4><ul>
<li>进入数据库，默认数据库是 <a target="_blank" rel="noopener" href="https://cloud.tencent.com/product/postgresql?from_column=20065&from=20065">PostgreSQL</a>，如选择 MySQL 的话，后续需要添加 mysql-connector-java 驱动包到 DolphinScheduler 的 lib 目录下</li>
</ul>
<p>mysql-connector-java下载网址：MySQL :: Download Connector&#x2F;J<br>注意切换下载linux版并且注意对应版本号。<br>这里对应的主要是ubuntu的版本而不是linux版本。<br><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/29792214/1715239258889-cfd98bfb-3ebf-4196-b269-a46682624e62.jpeg#clientId=u846a0b5a-ddc0-4&from=paste&id=u9c242e8a&originHeight=422&originWidth=953&originalType=url&ratio=1&rotation=0&showTitle=false&size=41683&status=done&style=none&taskId=u49421081-b40b-41c4-a6dd-d8fc2061863&title=" alt="image.jpg"><br>查看ubuntu版本的方法 ：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/version</span><br></pre></td></tr></table></figure>
<p>结果如下：<br><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/29792214/1715239282851-e63ac640-8f95-45f7-ae7c-9e32e5218c39.jpeg#clientId=u846a0b5a-ddc0-4&from=paste&id=u56bd7de0&originHeight=34&originWidth=735&originalType=url&ratio=1&rotation=0&showTitle=false&size=10423&status=done&style=none&taskId=udbacdb88-6409-430d-a919-f015ccbf10f&title=" alt="image.jpg"><br>笔者用的18.04版本<br>下载好后放到DolphinScheduler 的 lib 目录下解压<br>但是笔者此处遇到一点问题，下载下来的文件解压后的结果似乎并不太常规，没法简单地tar解包<br>解决方法是在windows中解压，然后打开解压出的压缩包，该压缩包里.&#x2F;usr&#x2F;share&#x2F;java里有我们需要的mysql-connector-java-8.0.26.jar，取出来传入linux的lib文件夹下。<br>之后执行如下指令进入数据库：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#启动mysql服务</span><br><span class="line">service mysql start</span><br><span class="line"></span><br><span class="line">#登录</span><br><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure>

<ul>
<li>此处遇到了另一个问题，运行service mysql start报错Failed to start mysql.service: Unit mysql.service not found.</li>
<li>解决方法：</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#查询/etc/init.<span class="property">d</span>/下是否存在mysql，无结果说明不存在</span><br><span class="line">ll /etc/init.<span class="property">d</span>/ | grep mysql</span><br><span class="line"></span><br><span class="line">#查询mysql.<span class="property">server</span>所在位置</span><br><span class="line">find / -name mysql.<span class="property">server</span></span><br><span class="line"></span><br><span class="line">#把mysql.<span class="property">server</span>复制过去，其中/usr/local/mysql/是笔者的mysql安装目录</span><br><span class="line">cp /usr/local/mysql/support-files/mysql.<span class="property">server</span> /etc/init.<span class="property">d</span>/mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>进入数据库命令行窗口后，执行数据库初始化命令，设置访问账号和密码。注: {user} 和 {password} 需要替换为具体的数据库用户名和密码</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="variable constant_">CREATE</span> <span class="variable constant_">DATABASE</span> dolphinscheduler <span class="variable constant_">DEFAULT</span> <span class="variable constant_">CHARACTER</span> <span class="variable constant_">SET</span> utf8 <span class="variable constant_">DEFAULT</span> <span class="variable constant_">COLLATE</span> utf8_general_ci;</span><br><span class="line">   mysql&gt; <span class="variable constant_">GRANT</span> <span class="variable constant_">ALL</span> <span class="variable constant_">PRIVILEGES</span> <span class="variable constant_">ON</span> dolphinscheduler.* <span class="variable constant_">TO</span> <span class="string">&#x27;&#123;user&#125;&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="variable constant_">IDENTIFIED</span> <span class="variable constant_">BY</span> <span class="string">&#x27;&#123;password&#125;&#x27;</span>;</span><br><span class="line">   mysql&gt; <span class="variable constant_">GRANT</span> <span class="variable constant_">ALL</span> <span class="variable constant_">PRIVILEGES</span> <span class="variable constant_">ON</span> dolphinscheduler.* <span class="variable constant_">TO</span> <span class="string">&#x27;&#123;user&#125;&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> <span class="variable constant_">IDENTIFIED</span> <span class="variable constant_">BY</span> <span class="string">&#x27;&#123;password&#125;&#x27;</span>;</span><br><span class="line">   mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure>
<p>注：如果需要查看mysql中的用户及其密码可使用如下代码<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">SELECT</span> <span class="title class_">User</span>, <span class="title class_">Host</span>, <span class="title class_">Password</span> <span class="variable constant_">FROM</span> mysql.<span class="property">user</span>;</span><br></pre></td></tr></table></figure>
<p>创建表和导入基础数据<br>首先退出sql(按Ctrl+c)<br>接下来修改 conf 目录下 datasource.properties 中的下列配置<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/dolphinscheduler/dolphinscheduler-bin</span><br><span class="line"></span><br><span class="line">vi conf/datasource.<span class="property">properties</span></span><br></pre></td></tr></table></figure>

<ul>
<li>如果选择 MySQL，请注释(用‘#’)掉 PostgreSQL 相关配置(反之同理)，还需要手动添加 [ mysql-connector-java 驱动 jar ] 包到 lib 目录下，这里下载的是 mysql-connector-java-5.1.47.jar，然后正确配置数据库连接相关信息</li>
<li>提示：切换至英文输入法，输入i进入修改状态，方向键改变光标位置，完成后先按Esc退出插入状态，再输入:wq保存并退出。:q可用来直接退出而不保存。</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># postgre</span><br><span class="line">  # spring.<span class="property">datasource</span>.<span class="property">driver</span>-<span class="keyword">class</span>-name=org.<span class="property">postgresql</span>.<span class="property">Driver</span></span><br><span class="line">  # spring.<span class="property">datasource</span>.<span class="property">url</span>=<span class="attr">jdbc</span>:<span class="attr">postgresql</span>:<span class="comment">//localhost:5432/dolphinscheduler</span></span><br><span class="line">  # mysql</span><br><span class="line">  spring.<span class="property">datasource</span>.<span class="property">driver</span>-<span class="keyword">class</span>-name=com.<span class="property">mysql</span>.<span class="property">jdbc</span>.<span class="property">Driver</span></span><br><span class="line">  spring.<span class="property">datasource</span>.<span class="property">url</span>=<span class="attr">jdbc</span>:<span class="attr">mysql</span>:<span class="comment">//xxx:3306/dolphinscheduler?useUnicode=true&amp;characterEncoding=UTF-8&amp;allowMultiQueries=true     # 需要修改ip，本机localhost即可</span></span><br><span class="line">  spring.<span class="property">datasource</span>.<span class="property">username</span>=xxx      # 需要修改为上面的&#123;user&#125;值</span><br><span class="line">  spring.<span class="property">datasource</span>.<span class="property">password</span>=xxx      # 需要修改为上面的&#123;password&#125;值</span><br></pre></td></tr></table></figure>

<ul>
<li>先把PostgreSQL 相关的代码注释掉，然后注意修改这里的xxx</li>
<li>修改并保存完后，执行 script 目录下的创建表及导入基础数据脚本</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh script/create-dolphinscheduler.<span class="property">sh</span></span><br></pre></td></tr></table></figure>
<p>注意: 如果执行上述脚本提示 “&#x2F;bin&#x2F;java: No such file or directory” 错误，请在 &#x2F;etc&#x2F;profile 下配置 JAVA_HOME 及 PATH 变量<br>正好笔者此处也遇到了类似的问题：<br>script&#x2F;create-dolphinscheduler.sh: 37: script&#x2F;create-dolphinscheduler.sh: &#x2F;bin&#x2F;java: not found<br>那么我们就按照提示进入&#x2F;etc文件夹下的profile文件进行编辑吧：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure>
<p>在最下方添加如下代码：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">JAVA_HOME</span>=<span class="regexp">/usr/</span>lib/jvm/java-<span class="number">8</span>-openjdk-amd64</span><br><span class="line"><span class="variable constant_">JRE_HOME</span>=<span class="regexp">/usr/</span>lib/jvm/java-<span class="number">8</span>-openjdk-amd64/jre</span><br><span class="line"><span class="variable constant_">PATH</span>=$JAVA_HOME/<span class="attr">bin</span>:$JRE_HOME/<span class="attr">bin</span>:$PATH</span><br><span class="line"><span class="variable constant_">CLASSPATH</span>=.:$JAVA_HOME/lib/dt.<span class="property">jar</span>:$JAVA_HOME/lib/tools.<span class="property">jar</span>:$JRE_HOME/lib</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">JAVA_HOME</span> <span class="variable constant_">JRE_HOME</span> <span class="variable constant_">PATH</span> <span class="variable constant_">CLASSPATH</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>当然此处可能由于每个人jdk所在位置以及版本不同而需要做出适当修改。 如果之前使用的npm安装jdk，那么jdk很有可能被安装在&#x2F;usr&#x2F;lib&#x2F;jvm目录下 而我们所需的java文件地址为：&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-8-openjdk-amd64&#x2F;bin&#x2F;java （此处可能略有不同）</p>
</blockquote>
<p>:wq保存退出。<br>之后再敲入如下代码：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile   <span class="comment">//使修改立即生效</span></span><br><span class="line">echo $JAVA_HOME <span class="comment">//查看JAVA_HOME的值</span></span><br><span class="line">javac -version</span><br></pre></td></tr></table></figure>
<p>第一条使设置生效，二三条检验配置是否成功。</p>
<h4 id="5-修改运行参数"><a href="#5-修改运行参数" class="headerlink" title="5.修改运行参数"></a><strong>5.修改运行参数</strong></h4><ul>
<li>修改 &#x2F;usr&#x2F;local&#x2F;dolphinscheduler&#x2F;dolphinscheduler-bin&#x2F;conf&#x2F;env 目录下的 dolphinscheduler_env.sh 环境变量(以相关用到的软件都安装在 &#x2F;opt&#x2F;soft 下为例)</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/dolphinscheduler/dolphinscheduler-bin/conf/env/dolphinscheduler_env.<span class="property">sh</span></span><br></pre></td></tr></table></figure>
<p>注释export SPARK_HOME1&#x3D;&#x2F;opt&#x2F;soft&#x2F;spark1这行<br>export DATAX_HOME&#x3D;&#x2F;opt&#x2F;soft&#x2F;datax&#x2F;bin&#x2F;datax这行加上.py<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="variable constant_">HADOOP_HOME</span>=<span class="regexp">/opt/</span>soft/hadoop</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">HADOOP_CONF_DIR</span>=<span class="regexp">/opt/</span>soft/hadoop/etc/hadoop</span><br><span class="line"># <span class="keyword">export</span> <span class="variable constant_">SPARK_HOME1</span>=<span class="regexp">/opt/</span>soft/spark1</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">SPARK_HOME2</span>=<span class="regexp">/opt/</span>soft/spark2</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">PYTHON_HOME</span>=<span class="regexp">/opt/</span>soft/python</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">JAVA_HOME</span>=<span class="regexp">/opt/</span>soft/java</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">HIVE_HOME</span>=<span class="regexp">/opt/</span>soft/hive</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">FLINK_HOME</span>=<span class="regexp">/opt/</span>soft/flink</span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">DATAX_HOME</span>=<span class="regexp">/opt/</span>soft/datax/bin/datax.<span class="property">py</span></span><br><span class="line"><span class="keyword">export</span> <span class="variable constant_">PATH</span>=$HADOOP_HOME/<span class="attr">bin</span>:$SPARK_HOME2/<span class="attr">bin</span>:<span class="attr">$PYTHON_HOME</span>:$JAVA_HOME/<span class="attr">bin</span>:$HIVE_HOME/<span class="attr">bin</span>:$FLINK_HOME/<span class="attr">bin</span>:<span class="attr">$DATAX_HOME</span>:$PATH</span><br></pre></td></tr></table></figure>
<p>注意: 这一步非常重要，例如 JAVA_HOME 和 PATH 是必须要配置的，没有用到的可以忽略或者注释掉；如果找不到 dolphinscheduler_env.sh，请运行 ls -a</p>
<ul>
<li>将 jdk 软链到 &#x2F;usr&#x2F;bin&#x2F;java 下(仍以 JAVA_HOME&#x3D;&#x2F;opt&#x2F;soft&#x2F;java 为例)</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /opt/soft/java/bin/java /usr/bin/java</span><br></pre></td></tr></table></figure>

<ul>
<li>修改一键部署配置文件conf&#x2F;config&#x2F;install_config.conf中的各参数，特别注意以下参数的配置</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/dolphinscheduler/dolphinscheduler-bin/conf/config/install_config.<span class="property">conf</span></span><br></pre></td></tr></table></figure>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"># 这里填 mysql or postgresql</span><br><span class="line">dbtype=<span class="string">&quot;mysql&quot;</span></span><br><span class="line"></span><br><span class="line"># 数据库连接地址</span><br><span class="line">dbhost=<span class="string">&quot;localhost:3306&quot;</span></span><br><span class="line"></span><br><span class="line"># 数据库名</span><br><span class="line">dbname=<span class="string">&quot;dolphinscheduler&quot;</span></span><br><span class="line"></span><br><span class="line"># 数据库用户名，此处需要修改为上面设置的 &#123;user&#125; 具体值</span><br><span class="line">username=<span class="string">&quot;xxx&quot;</span>    </span><br><span class="line"></span><br><span class="line"># 数据库密码，如果有特殊字符，请使用 \ 转义，需要修改为上面设置的 &#123;password&#125; 具体值</span><br><span class="line">password=<span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line"># <span class="title class_">Zookeeper</span>地址，单机本机是 <span class="attr">localhost</span>:<span class="number">2181</span>，记得把 <span class="number">2181</span> 端口带上</span><br><span class="line">zkQuorum=<span class="string">&quot;localhost:2181&quot;</span></span><br><span class="line"></span><br><span class="line"># 将 <span class="variable constant_">DS</span> 安装到哪个目录，如: <span class="regexp">/opt/</span>soft/dolphinscheduler，不同于现在的目录</span><br><span class="line">installPath=<span class="string">&quot;/opt/soft/dolphinscheduler&quot;</span></span><br><span class="line"></span><br><span class="line"># 使用哪个用户部署，使用第 <span class="number">3</span> 节创建的用户</span><br><span class="line">deployUser=<span class="string">&quot;dolphinscheduler&quot;</span></span><br><span class="line"></span><br><span class="line"># 邮件配置，以 qq 邮箱为例</span><br><span class="line"># 邮件协议</span><br><span class="line">mailProtocol=<span class="string">&quot;SMTP&quot;</span></span><br><span class="line"></span><br><span class="line"># 邮件服务地址</span><br><span class="line">mailServerHost=<span class="string">&quot;smtp.qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"># 邮件服务端口</span><br><span class="line">mailServerPort=<span class="string">&quot;25&quot;</span></span><br><span class="line"></span><br><span class="line"># mailSender 和 mailUser 配置成一样即可</span><br><span class="line"># 发送者</span><br><span class="line">mailSender=<span class="string">&quot;xxx@qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"># 发送用户</span><br><span class="line">mailUser=<span class="string">&quot;xxx@qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"># 邮箱密码</span><br><span class="line">mailPassword=<span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line"># <span class="variable constant_">TLS</span> 协议的邮箱设置为 <span class="literal">true</span>，否则设置为 <span class="literal">false</span></span><br><span class="line">starttlsEnable=<span class="string">&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"># 开启 <span class="variable constant_">SSL</span> 协议的邮箱配置为 <span class="literal">true</span>，否则为 <span class="literal">false</span>。注意: starttlsEnable 和 sslEnable 不能同时为 <span class="literal">true</span></span><br><span class="line">sslEnable=<span class="string">&quot;false&quot;</span></span><br><span class="line"></span><br><span class="line"># 邮件服务地址值，参考上面 mailServerHost</span><br><span class="line">sslTrust=<span class="string">&quot;smtp.qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"># 业务用到的比如 sql 等资源文件上传到哪里，可以设置：<span class="variable constant_">HDFS</span>,<span class="variable constant_">S3</span>,<span class="variable constant_">NONE</span>，单机如果想使用本地文件系统，请配置为 <span class="variable constant_">HDFS</span>，因为 <span class="variable constant_">HDFS</span> 支持本地文件系统；如果不需要资源上传功能请选择 <span class="variable constant_">NONE</span>。强调一点：使用本地文件系统不需要部署 hadoop</span><br><span class="line">resourceStorageType=<span class="string">&quot;HDFS&quot;</span></span><br><span class="line"></span><br><span class="line"># 这里以保存到本地文件系统为例</span><br><span class="line"># 注：但是如果你想上传到 <span class="variable constant_">HDFS</span> 的话，<span class="title class_">NameNode</span> 启用了 <span class="variable constant_">HA</span>，则需要将 hadoop 的配置文件 core-site.<span class="property">xml</span> 和 hdfs-site.<span class="property">xml</span> 放到 conf 目录下，本例即是放到 /opt/dolphinscheduler/conf 下面，并配置 namenode cluster 名称；如果 <span class="title class_">NameNode</span> 不是 <span class="variable constant_">HA</span>，则修改为具体的 ip 或者主机名即可</span><br><span class="line">defaultFS=<span class="string">&quot;file:///data/dolphinscheduler&quot;</span>    #<span class="attr">hdfs</span>:<span class="comment">//&#123;具体的ip/主机名&#125;:8020</span></span><br><span class="line"></span><br><span class="line"># 如果没有使用到 <span class="title class_">Yarn</span>，保持以下默认值即可；如果 <span class="title class_">ResourceManager</span> 是 <span class="variable constant_">HA</span>，则配置为 <span class="title class_">ResourceManager</span> 节点的主备 ip 或者 hostname，比如 <span class="string">&quot;192.168.xx.xx,192.168.xx.xx&quot;</span> ;如果是单 <span class="title class_">ResourceManager</span> 请配置 yarnHaIps=<span class="string">&quot;&quot;</span> 即可</span><br><span class="line"># 注：依赖于yarn执行的任务，为了保证执行结果判断成功，需要确保yarn信息配置正确</span><br><span class="line">yarnHaIps=<span class="string">&quot;192.168.xx.xx,192.168.xx.xx&quot;</span></span><br><span class="line"></span><br><span class="line"># 如果 <span class="title class_">ResourceManager</span> 是 <span class="variable constant_">HA</span> 或者没有使用到 <span class="title class_">Yarn</span> 保持默认值即可；如果是单 <span class="title class_">ResourceManager</span>，请配置真实的 <span class="title class_">ResourceManager</span> 主机名或者 ip</span><br><span class="line">singleYarnIp=<span class="string">&quot;yarnIp1&quot;</span></span><br><span class="line"></span><br><span class="line"># 资源上传根路径，支持 <span class="variable constant_">HDFS</span> 和 <span class="variable constant_">S3</span>，由于 hdfs 支持本地文件系统，需要确保本地文件夹存在且有读写权限</span><br><span class="line">resourceUploadPath=<span class="string">&quot;/data/dolphinscheduler&quot;</span></span><br><span class="line"></span><br><span class="line"># 具备权限创建 resourceUploadPath的用户</span><br><span class="line">hdfsRootUser=<span class="string">&quot;hdfs&quot;</span></span><br><span class="line">    </span><br><span class="line"># 配置 api server port</span><br><span class="line">apiServerPort=<span class="string">&quot;12345&quot;</span></span><br><span class="line"></span><br><span class="line"># 在哪些机器上部署 <span class="variable constant_">DS</span> 服务，本机选 localhost</span><br><span class="line">ips=<span class="string">&quot;localhost&quot;</span></span><br><span class="line"></span><br><span class="line"># ssh端口，默认<span class="number">22</span></span><br><span class="line">sshPort=<span class="string">&quot;22&quot;</span></span><br><span class="line"></span><br><span class="line"># master服务部署在哪台机器上</span><br><span class="line">masters=<span class="string">&quot;localhost&quot;</span></span><br><span class="line"></span><br><span class="line"># worker服务部署在哪台机器上，并指定此 worker 属于哪一个 worker 组，下面示例的 <span class="keyword">default</span> 即为组名</span><br><span class="line">workers=<span class="string">&quot;localhost:default&quot;</span></span><br><span class="line"></span><br><span class="line"># 报警服务部署在哪台机器上</span><br><span class="line">alertServer=<span class="string">&quot;localhost&quot;</span></span><br><span class="line"></span><br><span class="line"># 后端api服务部署在在哪台机器上</span><br><span class="line">apiServers=<span class="string">&quot;localhost&quot;</span></span><br></pre></td></tr></table></figure>
<p>注：如果打算用到 资源中心 功能，请执行以下命令：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /data/dolphinscheduler</span><br><span class="line">sudo chown -R <span class="attr">dolphinscheduler</span>:dolphinscheduler /data/dolphinscheduler</span><br></pre></td></tr></table></figure>
<h4 id="6-一键部署"><a href="#6-一键部署" class="headerlink" title="6.一键部署"></a><strong>6.一键部署</strong></h4><ul>
<li>切换到部署用户，执行一键部署脚本</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh install.<span class="property">sh</span></span><br></pre></td></tr></table></figure>
<p>注意：第一次部署的话，在运行中第3步 3,stop server 出现 5 次以下信息，此信息可以忽略<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sh</span>: bin/dolphinscheduler-daemon.<span class="property">sh</span>: <span class="title class_">No</span> such file or directory</span><br></pre></td></tr></table></figure>

<ul>
<li>运行时报错：install.sh: 22: install.sh: source: not found 1.replace file install.sh: 28: install.sh: [[: not found install.sh: 34: [: &#x3D;&#x3D;: unexpected operator 2.create directory 3.scp resources &#x2F;usr&#x2F;local&#x2F;dolphinscheduler&#x2F;dolphinscheduler-bin&#x2F;script&#x2F;scp-hosts.sh: 21: &#x2F;usr&#x2F;local&#x2F;dolphinscheduler&#x2F;dolphinscheduler-bin&#x2F;script&#x2F;scp-hosts.sh: source: not found &#x2F;usr&#x2F;local&#x2F;dolphinscheduler&#x2F;dolphinscheduler-bin&#x2F;script&#x2F;scp-hosts.sh: 24: &#x2F;usr&#x2F;local&#x2F;dolphinscheduler&#x2F;dolphinscheduler-bin&#x2F;script&#x2F;scp-hosts.sh: [[: not found &#x2F;usr&#x2F;local&#x2F;dolphinscheduler&#x2F;dolphinscheduler-bin&#x2F;script&#x2F;scp-hosts.sh: 29: &#x2F;usr&#x2F;local&#x2F;dolphinscheduler&#x2F;dolphinscheduler-bin&#x2F;script&#x2F;scp-hosts.sh: Syntax error: “(“ unexpected scp copy failed to exit</li>
</ul>
<p>原因：默认使用dash作为shell，但sh是bash shell的命令。<br>解决方案：<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dpkg-reconfigure dash（需要root权限）</span><br><span class="line">在界面中选择no</span><br><span class="line">再运行ls -l /bin/sh 后显示/bin/sh -&gt; bash</span><br></pre></td></tr></table></figure>

<ul>
<li>再运行sh命令即可</li>
<li>脚本完成后，会启动以下 5 个服务，使用</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure>
<p>命令查看服务是否启动( jps 为 JDK 自带)</p>
<ul>
<li>如果显示中包含：</li>
</ul>
<p>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">MasterServer</span>         ----- master服务</span><br><span class="line">    <span class="title class_">WorkerServer</span>         ----- worker服务</span><br><span class="line">    <span class="title class_">LoggerServer</span>         ----- logger服务</span><br><span class="line">    <span class="title class_">ApiApplicationServer</span> ----- api服务</span><br><span class="line">    <span class="title class_">AlertServer</span>          ----- alert服务</span><br></pre></td></tr></table></figure>
<p>如果以上服务都正常启动，说明自动部署成功<br>部署成功后，可以进行日志查看，日志统一存放于 logs 文件夹内<br>&#x2F;usr&#x2F;dolphinscheduler&#x2F;logs<br>代码语言：javascript<br>复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">logs/</span><br><span class="line">    ├── dolphinscheduler-alert-server.<span class="property">log</span></span><br><span class="line">    ├── dolphinscheduler-master-server.<span class="property">log</span></span><br><span class="line">    |—— dolphinscheduler-worker-server.<span class="property">log</span></span><br><span class="line">    |—— dolphinscheduler-api-server.<span class="property">log</span></span><br><span class="line">    |—— dolphinscheduler-logger-server.<span class="property">log</span></span><br></pre></td></tr></table></figure>
<h4 id="7-登录系统"><a href="#7-登录系统" class="headerlink" title="7.登录系统"></a><a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://mp.weixin.qq.com/s?__biz=MzI0NjU2NDkzMQ==&mid=2247494550&idx=1&sn=abdf05ddc46325b37400e66b0a5fa91a&chksm=e9bffabadec873ac8725efe1fda1e5f13fc304bd29c5985df4976266f86e747c47d09447ad88&scene=21%23wechat_redirect&source=article&objectId=1909521">7.登录系统</a></h4><p>访问前端页面地址，接口 ip (自行修改) <a target="_blank" rel="noopener" href="http://192.168.xx.xx:12345/dolphinscheduler">http://192.168.xx.xx:12345/dolphinscheduler</a><br><img src="https://cdn.nlark.com/yuque/0/2024/png/29792214/1715239284972-fdf83fd6-3f72-426e-8fa9-69f6ec2adc72.png#clientId=u846a0b5a-ddc0-4&from=paste&id=u501cbb43&originalType=url&ratio=1&rotation=0&showTitle=false&size=44901&status=done&style=none&taskId=ua90efdeb-d37b-4499-8f86-2cb7ab29749&title=" alt="image.jpg"><br>部署完成，成功进入界面。<br>推荐参考文档：<br>官网网址：<br><a target="_blank" rel="noopener" href="https://dolphinscheduler.apache.org/zh-cn/">https://dolphinscheduler.apache.org/zh-cn/</a><br>官网使用教程：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1d64y1s7eZ">https://www.bilibili.com/video/BV1d64y1s7eZ</a><br>你可以在这里参考原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_50740678/article/details/120615253">https://blog.csdn.net/qq_50740678/article/details/120615253</a><br>本文参与 <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/support-plan">腾讯云自媒体分享计划</a>，分享自微信公众号。<br>原始发表：2021-11-25，如有侵权请联系 <a href="mailto:cloudcommunity@tencent.com">cloudcommunity@tencent.com</a> 删除<br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10178">bash</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10316">bash 指令</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10164">java</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10308">linux</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10245">云数据库 SQL Server</a><br>本文分享自 大数据真好玩 微信公众号，前往查看<br>如有侵权，请联系 <a href="mailto:cloudcommunity@tencent.com">cloudcommunity@tencent.com</a> 删除。<br>本文参与 <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/support-plan">腾讯云自媒体分享计划</a>  ，欢迎热爱写作的你一起参与！<br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10178">bash</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10316">bash 指令</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10164">java</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10308">linux</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/tag/10245">云数据库 SQL Server</a></p>
<blockquote>
<p>来自: <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1909521">保姆级超详细教程：DolphinScheduler单机(本地)部署及软件运行测试-腾讯云开发者社区-腾讯云</a></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://ximiedeyanhuo.github.io/fzd.github.io">拾光</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://ximiedeyanhuo.github.io/fzd.github.io/2024/05/11/%E4%BF%9D%E5%A7%86%E7%BA%A7%E8%B6%85%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B%EF%BC%9ADolphinScheduler%E5%8D%95%E6%9C%BA(%E6%9C%AC%E5%9C%B0)%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%BD%AF%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA-%E8%85%BE%E8%AE%AF%E4%BA%91/">https://ximiedeyanhuo.github.io/fzd.github.io/2024/05/11/%E4%BF%9D%E5%A7%86%E7%BA%A7%E8%B6%85%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B%EF%BC%9ADolphinScheduler%E5%8D%95%E6%9C%BA(%E6%9C%AC%E5%9C%B0)%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%BD%AF%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA-%E8%85%BE%E8%AE%AF%E4%BA%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ximiedeyanhuo.github.io/fzd.github.io" target="_blank">荒岛</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/fzd.github.io/2024/05/11/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Hello World</div></div></a></div><div class="next-post pull-right"><a href="/fzd.github.io/2024/05/11/%E8%B0%81%E7%9A%84%E5%95%8A/" title=""><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info"></div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/fzd.github.io/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">拾光</div><div class="author-info__description">归途也还挺帅</div></div><div class="card-info-data site-data is-center"><a href="/fzd.github.io/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/fzd.github.io/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/fzd.github.io/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%9D%E5%A7%86%E7%BA%A7%E8%B6%85%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B%EF%BC%9ADolphinScheduler%E5%8D%95%E6%9C%BA-%E6%9C%AC%E5%9C%B0-%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%BD%AF%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="toc-number">1.</span> <span class="toc-text">保姆级超详细教程：DolphinScheduler单机(本地)部署及软件运行测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DolphinScheduler%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="toc-number">1.0.1.</span> <span class="toc-text">DolphinScheduler架构图</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">1.0.1.0.1.</span> <span class="toc-text">目录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%A1%A5%E5%85%85"><span class="toc-number">1.0.2.</span> <span class="toc-text">一、补充</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B"><span class="toc-number">1.0.3.</span> <span class="toc-text">二、部署流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%B8%8B%E8%BD%BD%E4%BA%8C%E8%BF%9B%E5%88%B6tar-gz%E5%8C%85"><span class="toc-number">1.0.3.1.</span> <span class="toc-text">1.下载二进制tar.gz包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E9%83%A8%E7%BD%B2%E7%94%A8%E6%88%B7%E5%B9%B6%E8%B5%8B%E4%BA%88%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C%E6%9D%83%E9%99%90"><span class="toc-number">1.0.3.2.</span> <span class="toc-text">2.创建部署用户并赋予目录操作权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-ssh%E5%85%8D%E5%AF%86%E9%85%8D%E7%BD%AE"><span class="toc-number">1.0.3.3.</span> <span class="toc-text">3.ssh免密配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.0.3.4.</span> <span class="toc-text">4.数据库初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E4%BF%AE%E6%94%B9%E8%BF%90%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="toc-number">1.0.3.5.</span> <span class="toc-text">5.修改运行参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2"><span class="toc-number">1.0.3.6.</span> <span class="toc-text">6.一键部署</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E7%99%BB%E5%BD%95%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.0.3.7.</span> <span class="toc-text">7.登录系统</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/fzd.github.io/2024/05/11/hello-world/" title="Hello World">Hello World</a><time datetime="2024-05-11T01:15:07.482Z" title="发表于 2024-05-11 09:15:07">2024-05-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/fzd.github.io/2024/05/11/%E4%BF%9D%E5%A7%86%E7%BA%A7%E8%B6%85%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B%EF%BC%9ADolphinScheduler%E5%8D%95%E6%9C%BA(%E6%9C%AC%E5%9C%B0)%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%BD%AF%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA-%E8%85%BE%E8%AE%AF%E4%BA%91/" title="无题">无题</a><time datetime="2024-05-11T01:15:07.482Z" title="发表于 2024-05-11 09:15:07">2024-05-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/fzd.github.io/2024/05/11/%E8%B0%81%E7%9A%84%E5%95%8A/" title="无题">无题</a><time datetime="2024-05-11T01:15:07.482Z" title="发表于 2024-05-11 09:15:07">2024-05-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 拾光</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/fzd.github.io/js/utils.js?v=4.14.0-b3"></script><script src="/fzd.github.io/js/main.js?v=4.14.0-b3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.35/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = (ele) => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from(ele).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return
    
    codeMermaidEle.forEach(ele => {
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.innerHTML = `<pre class="mermaid-src" hidden>${ele.textContent}</pre>`
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js').then(runMermaidFn)
  }
  
  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>